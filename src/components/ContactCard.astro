---
import { urlForImage } from "../sanity/lib/url-for-image";
//import PortableTextImage from "../../components/PortableTextImage.astro";

interface Props {
  name: string;
  role: string;
  team?: string;
  email: string;
  phone: string;
  image?: string;
  bio?: object;
}

const { name, role, team, email, phone, image, bio } = Astro.props;
//this above is actually a "person displayer."


//we're just going to deconstruct in here. 

// Format phone number for tel: link (remove spaces, dashes, parentheses)
const phoneLink = phone.replace(/[\s\-\(\)]/g, '');
---

<div class="bg-[#0f1f3a]/50 border border-white/10 rounded-2xl p-6">
  {image && (
    <div class="mb-4">
      <img 
        src={urlForImage(image.asset._ref)} 
        alt={name}
        class="w-24 h-24 rounded-full object-cover border-2 border-brand/30"
      />
    </div>
  )}
  <h3 class="text-lg font-semibold text-white mb-1">{name}</h3>
  <p class="text-sm text-slate-400 mb-3">{team ? `${role}, ${team}` : role}</p>
  <div class="space-y-1 text-sm text-slate-300">
    <p>
      <a href={`mailto:${email}`} class="text-brand hover:text-brand-400">
        {email}
      </a>
    </p>
    <p>
      <a href={`tel:+${phoneLink.startsWith('1') ? phoneLink : '1' + phoneLink}`} class="text-brand hover:text-brand-400">
        {phone}
      </a>
    </p>
  </div>
  <div>
    
  </div>
</div>
