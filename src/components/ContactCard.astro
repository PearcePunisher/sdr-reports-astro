---
interface Props {
  name: string;
  role?: string;
  team?: string;
  division?: string;
  email?: string;
  phone?: string;
  image?: string;
  bioLink?: string;
}

const { name, role, team, division, email, phone, image, bioLink } = Astro.props;

// Format phone number for tel: link (remove spaces, dashes, parentheses)
const phoneLink = phone ? phone.replace(/[\s\-\(\)]/g, '') : null;
---

<div class="bg-[#0f1f3a]/50 border border-white/10 rounded-2xl p-6">
  {image && (
    <div class="mb-4">
      <img 
        src={image} 
        alt={name}
        class="w-24 h-24 rounded-full object-cover border-2 border-brand/30"
      />
    </div>
  )}
  <h3 class="text-lg font-semibold text-white mb-1">{name}</h3>
  {(role || team) && (
    <div class="mb-3 text-sm text-slate-400 space-y-1">
      <p>{team ? `${role ?? ''}${role ? ', ' : ''}${team}` : role}</p>
      {division && <p class="text-slate-500">{division}</p>}
    </div>
  )}
  <div class="space-y-1 text-sm text-slate-300">
    {email && (
      <p>
        <a href={`mailto:${email}`} class="text-brand hover:text-brand-400">
          {email}
        </a>
      </p>
    )}
    {phoneLink && (
      <p>
        <a
          href={`tel:+${phoneLink.startsWith('1') ? phoneLink : '1' + phoneLink}`}
          class="text-brand hover:text-brand-400"
        >
          {phone}
        </a>
      </p>
    )}
    {bioLink && (
      <p class="pt-2">
        <a
          href={bioLink}
          target="_blank"
          rel="noopener noreferrer"
          class="text-brand hover:text-brand-400 font-medium"
        >
          Read Bio
        </a>
      </p>
    )}
  </div>
</div>
